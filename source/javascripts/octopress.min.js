function getNav(){var a=$("nav[role=navigation] fieldset[role=search]").after('<fieldset class="mobile-nav"></fieldset>').next().append("<select></select>");a.children("select").append('<option value="">Navigate&hellip;</option>'),$("ul[role=main-navigation]").addClass("main-navigation"),$("ul.main-navigation a").each(function(b){a.children("select").append('<option value="'+b.href+'">&raquo; '+b.text+"</option>")}),$("ul.subscription a").each(function(b){a.children("select").append('<option value="'+b.href+'">&raquo; '+b.text+"</option>")}),a.children("select").bind("change",function(a){a.target.value&&(window.location.href=a.target.value)})}function addSidebarToggler(){$("body").hasClass("sidebar-footer")||($("#content").append('<span class="toggle-sidebar"></span>'),$(".toggle-sidebar").bind("click",function(a){a.preventDefault(),$("body").hasClass("collapse-sidebar")?$("body").removeClass("collapse-sidebar"):$("body").addClass("collapse-sidebar")}));var a=$("aside.sidebar > section");a.length>1&&a.each(function(b,c){a.length>=3&&c%3===0&&$(b).addClass("first");var d=(c+1)%2?"odd":"even";$(b).addClass(d)}),a.length>=3&&$("aside.sidebar").addClass("thirds")}function testFeatures(){var a=["maskImage"];$(a).map(function(a){Modernizr.testAllProps(a)?$("html").addClass(a):$("html").addClass("no-"+a)}),"placeholder"in document.createElement("input")?$("html").addClass("placeholder"):$("html").addClass("no-placeholder")}function addCodeLineNumbers(){if(navigator.appName==="Microsoft Internet Explorer")return;$("div.gist-highlight").each(function(a){var b='<table><tbody><tr><td class="gutter">',c='<pre class="line-numbers">',d='</pre></td><td class="code">',e="</td></tr></tbody></table>",f=$(".line",a).length;for(var g=1;g<=f;g++)c+='<span class="line-number">'+g+"</span>\n";var h=b+c+d+"<pre>"+$("pre",a).html()+"</pre>"+e;$(a).html(h)})}function flashVideoFallback(){var a="/assets/jwplayer/player.swf",b="/assets/jwplayer/glow/glow.xml";$("video").each(function(c){c=$(c);if(!Modernizr.video.h264&&swfobject.getFlashPlayerVersion()||window.location.hash.indexOf("flash-test")!==-1)c.children("source[src$=mp4]").first().map(function(d){var e=$(d).attr("src"),f="video_"+Math.round(1+Math.random()*1e5),g=c.attr("width"),h=parseInt(c.attr("height"),10)+30;c.after('<div class="flash-video"><div><div id='+f+">"),swfobject.embedSWF(a,f,g,h+30,"9.0.0",{file:e,image:c.attr("poster"),skin:b},{movie:e,wmode:"opaque",allowfullscreen:"true"})}),c.remove()})}function wrapFlashVideos(){$("object").each(function(a){a=$(a);if($("param[name=movie]",a).length){var b=a.before('<div class="flash-video"><div>').previous();$(b).children().append(a)}}),$("iframe[src*=vimeo],iframe[src*=youtube]").each(function(a){a=$(a);var b=a.before('<div class="flash-video"><div>').previous();$(b).children().append(a)})}function renderDeliciousLinks(a){var b="<ul>";for(var c=0,d=a.length;c<d;c++)b+='<li><a href="'+a[c].u+'" title="Tags: '+(a[c].t==""?"":a[c].t.join(", "))+'">'+a[c].d+"</a></li>";b+="</ul>",$("#delicious").html(b)}$.domReady(function(){testFeatures(),wrapFlashVideos(),flashVideoFallback(),addCodeLineNumbers(),getNav(),addSidebarToggler()}),function(a){function g(){f.content="width=device-width,minimum-scale="+e[0]+",maximum-scale="+e[1],a.removeEventListener(c,g,!0)}var b="addEventListener",c="gesturestart",d="querySelectorAll",e=[1,1],f=d in a?a[d]("meta[name=viewport]"):[];(f=f[f.length-1])&&b in a&&(g(),e=[.25,1.6],a[b](c,g,!0))}(document);var swfobject=function(){function a(a,c,d){var h,j=b(d);if(k.wk&&k.wk<312)return h;if(j){typeof a.id==e&&(a.id=d);if(k.ie&&k.win){var p="",q;for(q in a)a[q]!=Object.prototype[q]&&(q.toLowerCase()=="data"?c.movie=a[q]:q.toLowerCase()=="styleclass"?p+=' class="'+a[q]+'"':q.toLowerCase()!="classid"&&(p+=" "+q+'="'+a[q]+'"'));q="";for(var r in c)c[r]!=Object.prototype[r]&&(q+='<param name="'+r+'" value="'+c[r]+'" />');j.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+p+">"+q+"</object>",h=b(a.id)}else{r=i.createElement(f),r.setAttribute("type",g);for(var s in a)a[s]!=Object.prototype[s]&&(s.toLowerCase()=="styleclass"?r.setAttribute("class",a[s]):s.toLowerCase()!="classid"&&r.setAttribute(s,a[s]));for(p in c)c[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&(a=r,q=p,s=c[p],d=i.createElement("param"),d.setAttribute("name",q),d.setAttribute("value",s),a.appendChild(d));j.parentNode.replaceChild(r,j),h=r}}return h}function b(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function c(a){var b=k.pv,a=a.split(".");return a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||0,a[2]=parseInt(a[2],10)||0,b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function d(a){return/[\\\"<>\.;]/.exec(a)!=null&&typeof encodeURIComponent!=e?encodeURIComponent(a):a}var e="undefined",f="object",g="application/x-shockwave-flash",h=window,i=document,j=navigator,k=function(){var a=typeof i.getElementById!=e&&typeof i.getElementsByTagName!=e&&typeof i.createElement!=e,b=j.userAgent.toLowerCase(),c=j.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,k=!1,n=[0,0,0],p=null;if(typeof j.plugins!=e&&typeof j.plugins["Shockwave Flash"]==f)(p=j.plugins["Shockwave Flash"].description)&&(typeof j.mimeTypes==e||!j.mimeTypes[g]||!!j.mimeTypes[g].enabledPlugin)&&(k=!1,p=p.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),n[0]=parseInt(p.replace(/^(.*)\..*$/,"$1"),10),n[1]=parseInt(p.replace(/^.*\.(.*)\s.*$/,"$1"),10),n[2]=/[a-zA-Z]/.test(p)?parseInt(p.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h.ActiveXObject!=e)try{var q=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");q&&(p=q.GetVariable("$version"))&&(k=!0,p=p.split(" ")[1].split(","),n=[parseInt(p[0],10),parseInt(p[1],10),parseInt(p[2],10)])}catch(r){}return{w3:a,pv:n,wk:b,ie:k,win:d,mac:c}}();return{embedSWF:function(b,d,g,h,i,j,m,n,p){var q={success:!1,id:d};if(k.w3&&!(k.wk&&k.wk<312)&&b&&d&&g&&h&&i){g+="",h+="";var r={};if(n&&typeof n===f)for(var u in n)r[u]=n[u];r.data=b,r.width=g,r.height=h,b={};if(m&&typeof m===f)for(var v in m)b[v]=m[v];if(j&&typeof j===f)for(var w in j)typeof b.flashvars!=e?b.flashvars+="&"+w+"="+j[w]:b.flashvars=w+"="+j[w];c(i)&&(d=a(r,b,d),q.success=!0,q.ref=d)}p&&p(q)},ua:k,getFlashPlayerVersion:function(){return{major:k.pv[0],minor:k.pv[1],release:k.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(b,c,d){if(k.w3)return a(b,c,d)},getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return d(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return d(b[c].substring(b[c].indexOf("=")+1))}return""}}}();